import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

public class Leitor {

    public static LinkedListCustom lerLinkedListComOperacoes(String caminhoArquivo) {
        LinkedListCustom lista = new LinkedListCustom();

        try (Scanner leitor = new Scanner(new File(caminhoArquivo), "UTF-8")) {

            // Primeira linha: inicialização da lista
            if (leitor.hasNextLine()) {
                String[] numeros = leitor.nextLine().split(" ");
                for (String num : numeros) {
                    lista.add(Integer.parseInt(num), lista.size());
                }
            }

            // Segunda linha: quantidade de ações
            int quantidadeAcoes = 0;
            if (leitor.hasNextLine()) {
                quantidadeAcoes = Integer.parseInt(leitor.nextLine().trim());
            }

            // Linhas seguintes: ações a serem realizadas
            for (int i = 0; i < quantidadeAcoes; i++) {
                if (leitor.hasNextLine()) {
                    String[] acao = leitor.nextLine().split(" ");
                    String nomeAcao = acao[0];
                    int numero = Integer.parseInt(acao[1]);
                    int posicao = Integer.parseInt(acao[2]);

                    if (nomeAcao.equals("A")) {
                        lista.add(numero, posicao);
                    } else if (nomeAcao.equals("R")) {
                        lista.remove(P);
                    } else {
                        System.out.println("Ação desconhecida: " + nomeAcao);
                    }
                }
            }

        } catch (FileNotFoundException e) {
            e.printStackTrace();
        }

        return lista;
    }
}
